<div>
    <div class="seekbar" ng-mousedown="seekBarMouseDown($event)" ng-mouseleave="seekBarResetDrag()" ng-mouseup="seekBarResetDrag()" ng-mousemove="seekBarDragged($event)">
        <span ng-style="{'width': ((currentDraggedTime || currentTime) / audio.duration)*100 + '%'}">
            <span class="current-time">{{(currentDraggedTime || currentTime) | minutesSeconds}} / {{audio.duration | minutesSeconds}}</span>
        </span>

        <span ng-repeat="i in range(audio.buffered.length)"
            ng-style="{'left': (audio.buffered.start(i) / audio.duration)*100 + '%', 'right': (1-(audio.buffered.end(i) / audio.duration))*100 + '%'}"></span>
    </div>
    <!--
    <input style="width: 100%" min="0" max="{{audio.duration}}" step="0.01" type="range" ng-model="currentTime" ng-change="updateCurrentTime()"/>
    -->
</div>
<div style="display: flex">
    <div style="flex: 1 1 auto">
        <img width="30" height="30" src="{{info.albumart}}" style="vertical-align: middle" /> <span>{{info.artist}} - {{info.title}}</span>
    </div>

    <div style="flex: 1 1 auto">
        Volume:
        <input min="0" max="1" step="0.01" type="range" ng-model="volume" ng-change="updateVolume()"/>
    </div>

    <div style="flex: 1 1 auto">
        <button ng-click="prev()"><i class="fa fa-lg fa-backward"></i></button>
        <button ng-click="playpause()">
            <i class="fa fa-lg" ng-class="{'fa-play': audio.paused, 'fa-pause': !audio.paused}"></i>
        </button>
        <button ng-click="next()"><i class="fa fa-lg fa-forward"></i></button>
        <button ng-click="cycleLoopState()">
            <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x" ng-show="loopState == 2"></i>
                <i class="fa fa-retweet fa-stack-1x" ng-class="{grayed: loopState == 0, 'fa-inverse': loopState == 2}"></i>
            </span>

        </button>
    </div>
</div>
