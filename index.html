<!DOCTYPE html>
<html ng-app="gmusicPlayerApp">
<head>
    <title>GMusic Player</title>
    <script type="text/javascript" src="js/lib/angular.min.js"></script>
    <script type="text/javascript" src="js/lib/angular-resource.min.js"></script>
    <script type="text/javascript" src="js/lib/angular-route.min.js"></script>
    <script type="text/javascript" src="js/lib/angular-cookies.min.js"></script>
    <script type="text/javascript" src="js/lib/jquery.min.js"></script>

    <script type="text/javascript" src="js/services/gmusicService.js"></script>

    <script type="text/javascript" src="js/app.js"></script>
    <script type="text/javascript" src="js/controllers/main.js"></script>
    <script type="text/javascript" src="js/controllers/musicQueryController.js"></script>
    <script type="text/javascript" src="js/controllers/playlistsController.js"></script>
    <script type="text/javascript" src="js/controllers/searchController.js"></script>
    <script type="text/javascript" src="js/directives/audioPlayerDirective.js"></script>

    <style>
    html {
        position: relative;
        min-height: 100%;
    }
    body {
        margin: 0 0 70px;
    }

    .albumart {
        width: 32px;
        height: 32px;
    }

    .playlist-songs > tr.activesong td {
        background-color: #C7F464;
    }

    .playlist-songs > tr:hover td {
        background-color: #4ECDC4;
        cursor: pointer;
    }

    input[type='range'] {
        -webkit-appearance: none !important;
    }
    input[type=range]::-webkit-slider-runnable-track {
        height: 5px;
        background: #ddd;
        border: none;
        border-radius: 3px;
    }
    input[type='range']::-webkit-slider-thumb {
        -webkit-appearance: none !important;
        border: none;
        height: 16px;
        width: 16px;
        border-radius: 50%;
        background: goldenrod;
        margin-top: -6px;
    }
    input[type=range]:focus {
        outline: none;
    }

    input[type=range]:focus::-webkit-slider-runnable-track {
        background: #ccc;
    }

    audio-player > div {
        text-align: center;
        margin-bottom: 8px;
    }

    .content-container {
        position: absolute;
        bottom: 70px;
        top: 0px;
        left: 0px;
        right: 0px;
    }

    .nav-container {
        float: left;
        width: 300px;
        margin: 0;
        position: relative;

        height: 100%;
    }
    .musicquery-container {
        margin: 0;
        margin-left: 300px;
        position: relative;

        height: 100%;
    }
    .musicquery-container > h3 {
        margin-top: 0;
    }
    .musicquery-list {
        position: absolute;
        top: 40px;
        left: 0px;
        right: 0px;
        bottom: 0px;

        overflow-y: scroll;
    }
    .musicquery-list > table {
        width: 100%;
    }

    .footer {
        position: absolute;
        bottom: 6px;

        padding: 5px;

        width: 100%;
        height: 70px;

        background-color: #f5f5f5;

        box-sizing: border-box;
    }

    </style>
</head>

<body ng-controller="MainCtrl">
    <div class="content-container">
        <div class="nav-container">
            <form ng-submit="search()">
                <div class="input-group" ng-controller="SearchCtrl">
                    <input type="text" class="form-control" ng-model="query" required>
                    <span class="input-group-btn">
                        <button class="btn btn-default" type="button" ng-click="search()">Search!</button>
                    </span>
                </div><!-- /input-group -->
            </form>

            <ul class="nav nav-sidebar" ng-controller="PlaylistsCtrl">
                <li ng-repeat="playlist in playlists" ng-click="setPlaylist(playlist)">
                    <a href="#/playlists/{{playlist.id}}">{{ playlist.name }}</a>
                </li>
            </ul>
        </div>
        <div class="musicquery-container" ng-controller="MusicQueryCtrl">
            <h3>
                Results for
                <button ng-repeat="query in queries" class="btn btn-info">{{ query }}</button>
            </h3>

            <div class="musicquery-list">
                <table>
                    <thead>
                        <tr>
                            <th>AlbumArt</th>
                            <th>Artist</th>
                            <th>Title</th>
                            <th>Album</th>
                        </tr>
                    </thead>
                    <tbody class="playlist-songs">
                        <tr ng-repeat="song in results" ng-click="setCurrentSong(song)" ng-class="{activesong: currentSongId == song.id}">
                            <td><img src="{{ song.albumart }}" class="albumart"></td>
                            <td>{{ song.artist }}</td>
                            <td>{{ song.title }}</td>
                            <td>{{ song.album }}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <div class="footer">
        <audio-player></audio-player>
    </div>
</body>
</html>
